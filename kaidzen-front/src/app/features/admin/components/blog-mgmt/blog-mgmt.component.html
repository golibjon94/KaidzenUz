<div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
  <div class="p-6 border-b border-gray-100 flex items-center justify-between">
    <h3 class="text-lg font-bold">Blog maqolalari</h3>
    <button nz-button nzType="primary" (click)="goAdd()">
      <span nz-icon nzType="plus"></span> Yangi maqola
    </button>
  </div>

  @if (!loading() && posts().length === 0) {
    <div class="p-8 text-center">
      <nz-empty nzNotFoundContent="Hozircha maqolalar yo'q"></nz-empty>
    </div>
  } @else {
    <nz-table #blogTable [nzData]="posts()" [nzLoading]="loading()">
      <thead>
        <tr>
          <th>Rasm</th>
          <th>Sarlavha</th>
          <th>Slug</th>
          <th>Status</th>
          <th>Yaratilgan</th>
          <th>Amallar</th>
        </tr>
      </thead>
      <tbody>
        @for (data of blogTable.data; track data.id) {
          <tr>
            <td>
              @if (data.image) {
                <img [src]="baseUrl + data.image.path" class="w-12 h-12 object-cover rounded" alt="">
              } @else {
                <div class="w-12 h-12 bg-gray-100 rounded flex items-center justify-center text-gray-400">
                  <span nz-icon nzType="picture"></span>
                </div>
              }
            </td>
            <td>{{ data.title }}</td>
            <td>{{ data.slug }}</td>
            <td>
              <nz-tag [nzColor]="data.status === 'PUBLISHED' ? 'green' : 'orange'">
                {{ data.status }}
              </nz-tag>
            </td>
            <td>{{ data.createdAt | date:'dd.MM.yyyy' }}</td>
            <td>
              <a (click)="goEdit(data.id)" class="text-blue-600 hover:text-blue-800 mr-4">Tahrirlash</a>
              <a (click)="deletePost(data.id)" class="text-red-600 hover:text-red-800 cursor-pointer">O'chirish</a>
            </td>
          </tr>
        }
      </tbody>
    </nz-table>
  }
</div>
