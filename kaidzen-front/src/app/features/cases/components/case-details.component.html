<app-header></app-header>

<div class="bg-white min-h-screen py-12">
  <div class="max-w-4xl mx-auto px-6">
    @if (loading()) {
      <nz-skeleton [nzActive]="true" [nzTitle]="true" [nzParagraph]="{ rows: 10 }"></nz-skeleton>
    } @else if (caseItem()) {
      <button nz-button nzType="link" routerLink="/cases" class="mb-8 p-0 flex items-center gap-2 text-gray-600 hover:text-blue-600">
        <span nz-icon nzType="arrow-left"></span>Keyslarga qaytish
      </button>

      <article class="animate-fade-in">
        <header class="mb-12 border-b pb-8">
          <div class="flex items-center gap-4 mb-4">
            <span class="px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-sm font-medium">Business Case</span>
            <span class="text-gray-500">{{ caseItem()!.date | date:'yyyy' }}</span>
          </div>
          <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-6 leading-tight">
            {{ caseItem()!.title }}
          </h1>
        </header>

        <div class="space-y-12">
          <section>
            <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-3">
              <span class="w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center text-sm">1</span>
              Muammo
            </h2>
            <div class="prose prose-lg max-w-none text-gray-700 bg-red-50 p-6 rounded-2xl border border-red-100">
              {{ caseItem()!.problem }}
            </div>
          </section>

          <section>
            <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-3">
              <span class="w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm">2</span>
              Yechim
            </h2>
            <div class="prose prose-lg max-w-none text-gray-700 bg-blue-50 p-6 rounded-2xl border border-blue-100">
              {{ caseItem()!.solution }}
            </div>
          </section>

          <section>
            <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-3">
              <span class="w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-sm">3</span>
              Natija
            </h2>
            <div class="prose prose-lg max-w-none text-gray-700 bg-green-50 p-6 rounded-2xl border border-green-100">
              {{ caseItem()!.result }}
            </div>
          </section>
        </div>
      </article>
    } @else {
      <div class="text-center py-20">
        <h2 class="text-2xl font-bold text-gray-900">Keys topilmadi</h2>
        <button nz-button nzType="primary" routerLink="/cases" class="mt-4">Keyslarga qaytish</button>
      </div>
    }
  </div>
</div>
<app-footer></app-footer>
